/*! ****************************************************************************
 * SVG v0.0.0
 *
 * A tiny Javascript library intended to create and manage SVG elements in the DOM.
 * (you can download it from npm or github repositories)
 * Copyright (c) 2019 Mobilabs <contact@mobilabs.fr> (http://www.mobilabs.fr).
 * Released under the MIT license. You may obtain a copy of the License
 * at: http://www.opensource.org/licenses/mit-license.php).
 * ************************************************************************** */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([""],e):"object"==typeof exports?(module.exports=e(t),null===t.SVG&&(t.SVG=e(t))):t.SVG=e(t)}(this,t=>{"use strict";const e="http://www.w3.org/2000/svg",n="http://www.w3.org/1999/xlink";let r,s;const a={Public:{}},i={Public:{}},o={Public:{}},l={Static:{Public:{},Draw:{Public:{}}},Attr:{Public:{}},Text:{Public:{}}};return s=function(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]]},function(){const t=i.Public;s(t,{easingLinear:(t,e,n,r)=>n*t/r+e,dAnimationRun(t,e){!function(t,e){const n=t[0],{easing:s}=n;n.event=t.createEvent();const a={value:0,start:"number"==typeof e.start?e.start:0,stop:"number"==typeof e.start?e.stop:180,t:0,duration:"number"==typeof e.d?e.d:2e3,fn:t=>{r.draw.arc(0,t,100,80)}};"function"==typeof e.fn&&(a.fn=e.fn),n.isAnimationOn=!0,t.setMessage("isAnimationOn",!0);const i=setInterval(()=>{a.t+=n.frequency,(a.t>a.duration||a.stop===a.start)&&(a.t=a.duration),a.value=s(a.t,a.start,a.stop-a.start,a.duration),0===a.duration&&(a.value=a.start),n.setAttributeNS(null,"d",a.fn(a.value)),a.t===a.duration&&(clearInterval(i),n.isAnimationOn=!1,t.setMessage("isAnimationOn",!1),n.dispatchEvent(n.event))},n.frequency)}(t,e)},rotateAnimationRun(t,e){!function(t,e){const n=t[0],{easing:s}=n;n.event=t.createEvent();const a={a:0,start:"number"==typeof e.start?e.start:0,stop:"number"==typeof e.stop?e.stop:180,t:0,duration:"number"==typeof e.d?e.d:2e3};n.isAnimationOn=!0,t.setMessage("isAnimationOn",!0);const i=setInterval(()=>{a.t+=n.frequency,(a.t>a.duration||a.stop===a.start)&&(a.t=a.duration),a.a=s(a.t,a.start,a.stop-a.start,a.duration);const e=r.transformAttrToObj(n.getAttribute("transform"));e.rotate.a=a.a,n.setAttributeNS(null,"transform",r.transformAttrToStr(e)),a.t===a.duration&&(clearInterval(i),n.isAnimationOn=!1,t.setMessage("isAnimationOn",!1),n.dispatchEvent(n.event))},n.frequency)}(t,e)},scaleAnimationRun(t,e){!function(t,e){const n=t[0],{easing:s}=n,a={x0:"number"==typeof e.x0?e.x0:0,y0:"number"==typeof e.y0?e.y0:0,x1:"number"==typeof e.x1?e.x1:1,y1:"number"==typeof e.y1?e.y1:1,x:0,y:0,t:0,duration:"number"==typeof e.d?e.d:2e3},i=setInterval(()=>{a.t+=n.frequency,a.t>a.duration&&(a.t=a.duration),a.x=s(a.t,a.x0,a.x1-a.x0,a.duration),a.y=s(a.t,a.y0,a.y1-a.y0,a.duration);const t=r.transformAttrToObj(n.getAttribute("transform"));t.scale.x=a.x,t.scale.y=a.y,n.setAttributeNS(null,"transform",r.transformAttrToStr(t)),a.t===a.duration&&clearInterval(i)},n.frequency)}(t,e)},translateAnimationRun(t,e){!function(t,e){const n=t[0],{easing:s}=n;n.event=t.createEvent();const a=r.transformAttrToObj(t[0].getAttribute("transform")),i=a.translate.x,o=a.translate.y,l={x:0,y:0,length:Math.sqrt(Math.pow(e.x-i,2)+Math.pow(e.y-o,2)),arc:Math.atan((e.y-o)/(e.x-i)),t:0,duration:2e3};e.x-i<0&&(l.arc+=-Math.PI),0===l.length&&(l.arc=0),"number"==typeof e.d&&(l.duration=e.d),n.isAnimationOn=!0,t.setMessage("isAnimationOn",!0);const u=setInterval(()=>{l.t+=n.frequency,l.t>l.duration&&(l.t=l.duration),l.x=s(l.t,0,l.length,l.duration)*Math.cos(l.arc)+i,l.y=s(l.t,0,l.length,l.duration)*Math.sin(l.arc)+o;const e=r.transformAttrToObj(n.getAttribute("transform"));e.translate.x=l.x,e.translate.y=l.y,n.setAttributeNS(null,"transform",r.transformAttrToStr(e)),!1===n.isAnimationOn||!1===t.getMessage("isAnimationOn")?clearInterval(u):l.t===l.duration&&(clearInterval(u),n.isAnimationOn=!1,t.setMessage("isAnimationOn",!1),n.dispatchEvent(n.event))},n.frequency)}(t,e)},textAnimationRun(t,e){!function(t,e){const n=t[0],{easing:r}=n,s={value:0,start:"number"==typeof e.start?e.start:0,stop:"number"==typeof e.stop?e.stop:0,t:0,duration:"number"==typeof e.d?e.d:2e3},a=setInterval(()=>{s.t+=n.frequency,(s.t>s.duration||s.stop===s.start)&&(s.t=s.duration),s.value=r(s.t,s.start,s.stop-s.start,s.duration),0===s.duration&&(s.value=s.start),n.textContent=s.value.toFixed(0),s.t===s.duration&&clearInterval(a)},n.frequency)}(t,e)}})}(),function(){const t=l.Attr.Public,e=i.Public;s(t,{attr(t,n,r){!function(t,n,r){switch(typeof r){case"string":case"number":t[0].setAttributeNS(null,n,r);break;case"object":switch(n){case"d":e.dAnimationRun(t,r);break;case"transform":switch(r.type){case"rotate":e.rotateAnimationRun(t,r);break;case"scale":e.scaleAnimationRun(t,r);break;case"translate":e.translateAnimationRun(t,r);break;default:throw new Error(`The animation is not supported for the transform ${r.type}!`)}break;default:throw new Error(`The animation is not supported for the attribute ${n}!`)}}}(t,n,r)}})}(),function(){const t=l.Static.Draw.Public;s(t,{arc:(t,e,n,r)=>(function(t,e,n,r){t=void 0!==t?t:0,e=void 0!==e?e:0,n=void 0!==n?n:0,(t%=2*Math.PI)>2*Math.PI&&(t%=2*Math.PI),e>2*Math.PI&&(e%=2*Math.PI);let s=0;Math.abs(e-t)>Math.PI&&(s=1);const a=Math.cos(t),i=Math.sin(t),o=Math.cos(e),l=Math.sin(e);let u="";return void 0!==r&&(u="L"+o*r+","+l*r+"A"+r+","+r+" 0 "+s+",0 "+a*r+","+i*r+"Z"),"M"+a*n+","+i*n+"A"+n+","+n+" 0 "+s+",1 "+o*n+","+l*n+u})(t,e,n,r),line:(t,e)=>(function(t,e){let n="";return t.forEach(t=>{null!==t.x&&null!==t.y&&(""===n?n=`M${t.x}, ${t.y}`:n+=`L${t.x},${t.y}`)}),!0===e&&(n+="Z"),n})(t,e),multipolyline:(t,e)=>(function(t,e){let n,r,s,a;for(n="",s=0;s<t.length;s++){for(r="",a=0;a<t[s].length;a++)null!==t[s][a].x&&null!==t[s][a].y&&(""===r?r=`M${t[s][a].x},${t[s][a].y}`:r+=`L${t[s][a].x}, ${t[s][a].y}`);!0===e&&(r+="z"),n+=r}return n})(t,e)})}(),function(){const t=o.Public;s(t,{create:t=>(function(t){let e;if(!t[0].event){switch(t.browser){case"modern":e=new Event("animationOver");break;case"old":(e=document.createEvent("Event")).initEvent("animationOver",!0,!0);break;default:throw new Error("This type of browser is not supported!")}return e}return t[0].event})(t)})}(),function(){const t=l.Static.Public;s(t,{addClass(t,e){let n=t.getAttributeNS(null,"class");n=n?`${n} ${e}`:e,t.setAttributeNS(null,"class",n)},removeClass(t,e){let n=t.getAttributeNS(null,"class");n=n.replace(e,"").replace(/(^\s+|\s+$)/g,""),t.setAttributeNS(null,"class",n)},transformAttrToObj:t=>(function(t){const e="string"==typeof t?t:"",n=/[+-]?((?:[1-9]\d*|0)(?:\.\d*)?|\.\d+)([eE][+-]?\d+)?/g,r=/translate(.*?)\)/,s=/scale(.*?)\)/,a=/rotate(.*?)\)/,i=/skewX(.*?)\)/,o=/skewY(.*?)\)/,l=null===e.match(r)?null:function(){let t,s;const a=e.match(r)[0].match(n);return a?1===a.length?s=t=parseFloat(a[0],10):(t=parseFloat(a[0],10),s=parseFloat(a[1],10)):(t=null,s=null),{x:t,y:s}}(),u=null===e.match(s)?null:function(){let t,r;const a=e.match(s)[0].match(n);return a?1===a.length?r=t=parseFloat(a[0],10):(t=parseFloat(a[0],10),r=parseFloat(a[1],10)):(t=null,r=null),{x:t,y:r}}(),c=null===e.match(a)?null:function(){let t,r,s;const i=e.match(a)[0].match(n);return i?1===i.length?(t=parseFloat(i[0],10),r=null,s=null):2===i.length?(t=parseFloat(i[0],10),s=r=parseFloat(i[1],10)):(t=parseFloat(i[0],10),r=parseFloat(i[1],10),s=parseFloat(i[2],10)):(t=null,r=null,s=null),{a:t,cx:r,cy:s}}(),h=null===e.match(i)?null:e.match(i)[0].match(n)?parseFloat(e.match(i)[0].match(n)[0],10):null,m=null===e.match(o)?null:e.match(o)[0].match(n)?parseFloat(e.match(o)[0].match(n)[0],10):null;return{translate:l,scale:u,rotate:c,matrix:(e.match(/matrix(.*?)\)/),null),skewX:h,skewY:m}})(t),transformAttrToStr:t=>(function(t){let e="";return t.translate&&"number"==typeof t.translate.x&&("number"==typeof t.translate.y?e+="translate("+t.translate.x+", "+t.translate.y+") ":e+="translate("+t.translate.x+", 0) "),t.scale&&"number"==typeof t.scale.x&&("number"==typeof t.scale.y?e+="scale("+t.scale.x+", "+t.scale.y+") ":e+="scale("+t.scale.x+", "+t.scale.x+") "),t.rotate&&"number"==typeof t.rotate.a&&("number"==typeof t.rotate.cx&&"number"==typeof t.rotate.cy?e+="rotate("+t.rotate.a+", "+t.rotate.cx+", "+t.rotate.cy+") ":"number"==typeof t.rotate.cx?e+="rotate("+t.rotate.a+", "+t.rotate.cx+", "+t.rotate.cx+") ":e+="rotate("+t.rotate.a+") "),"number"==typeof t.skewX&&(e+="skewX("+t.skewX+") "),"number"==typeof t.skewY&&(e+="skewY("+t.skewY+") "),e.replace(/(^\s+|\s+$)/g,"")})(t)})}(),function(){const t=a.Public;s(t,{getBrowser:()=>(function(){let t,e;try{t="modern",e=new Event("event")}catch(n){t="old";try{e=document.createEvent("Event")}catch(e){throw t="not supported",new Error("This type of browser is not supported!")}}return t})(),create:(t,r)=>(function(t,r){let s;if("string"!=typeof r||null===document.getElementById(r))return t[0]=null,void(t.svgRoot=null);const a=document.getElementById(r).getElementsByTagNameNS(e,"svg")[0];a&&0!==a.length?(t[0]=a,t.svgRoot=t[0]):((s=document.createElementNS(e,"svg")).setAttributeNS(null,"version","1.1"),s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",e),s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",n),t[0]=document.getElementById(r).appendChild(s),t.svgRoot=t[0])})(t,r)})}(),function(){const t=l.Text.Public,e=i.Public;s(t,{text(t,n){!function(t,n){switch(typeof n){case"number":case"string":t[0].textContent=n;break;case"object":e.textAnimationRun(t,n)}}(t,n)}})}(),function(){const s=l.Static.Public,u=l.Static.Draw.Public,c=a.Public,h=l.Attr.Public,m=l.Text.Public,f=i.Public,d=o.Public,p=t.SVG;let y;(r=function(t){const e=Object.create(y);return e.browser=c.getBrowser(),e.id=null,e[0]=null,e.svgRoot=null,t&&(e.id=t.slice(1),c.create(e,e.id)),e}).VERSION="0.0.0",r.noConflict=function(){return t.SVG=p,this},r.addClass=function(t,e){s.addClass(t,e)},r.removeClass=function(t,e){s.removeClass(t,e)},r.transformAttrToObj=function(t){return s.transformAttrToObj(t)},r.transformAttrToStr=function(t){return s.transformAttrToStr(t)},r.draw={arc:(t,e,n,r)=>u.arc(t,e,n,r),line:(t,e)=>u.line(t,e),multipolyline:(t,e)=>u.multipolyline(t,e)},y={select(t){return this[0]=this[0].querySelector(t),this},parent(){if(this[0].parentNode)return this[0]=this[0].parentNode,this;throw new Error("This SVG element has no parent!")},firstParent(){return this[0]=this.svgRoot,this},append(t){const n=document.createElementNS(e,t);return this[0]=this[0].appendChild(n),this},appendBefore(t,n){const r=document.createElementNS(e,t),s=this[0].querySelector(n);return this[0].insertBefore(r,s),this[0]=r,this},appendAfter(t,n){const r=document.createElementNS(e,t),s=this[0].querySelector(n).nextElementSibling;return this[0].insertBefore(r,s),this[0]=r,this},appendHTML(t){if("string"!=typeof t)return this;const e=document.createElementNS("http://www.w3.org/1999/xhtml","body");return e.innerHTML=t,this[0]=this[0].appendChild(e),this},replace(t){const n=document.createElementNS(e,t);return this[0].parentNode.replaceChild(n,this[0]),this[0]=n,this},remove(){let t;return this[0]&&((t=this[0].parentNode).removeChild(this[0]),this[0]=t),this},removeAllChilds(){for(;this[0].firstChild;)this[0].removeChild(this[0].firstChild);return this},animate(t,e){return this[0].easing="function"==typeof t?t:f.easingLinear,this[0].frequency=1e3/e||40,this},listen(t,e){return"string"==typeof t&&"function"==typeof e&&this[0].addEventListener(t,e),this},listenOnce(t,e){const n=this[0];return"string"==typeof t&&"function"==typeof e&&n.addEventListener(t,function r(s){n.removeEventListener(t,r),e(s)}),this},unlisten(t,e){return"string"==typeof t&&"function"==typeof e&&this[0].removeEventListener(t,e),this},alink(t,e){return this[0].setAttributeNS(n,`xlink:${t}`,e),this},attr(t,e){return this[0]?(h.attr(this,t,e),this):(console.log("warning: this.svgElement is null!"),this)},rmattr(t){return this[0].removeAttributeNS(null,t),this},text(t){return m.text(this,t),this},addClass(t){let e=this[0].getAttributeNS(null,"class");return e=e?`${e} ${t}`:t,this[0].setAttributeNS(null,"class",e),this},removeClass(t){let e=this[0].getAttributeNS(null,"class");return e&&(e=e.replace(t,"").replace(/(^\s+|\s+$)/g,""),this[0].setAttributeNS(null,"class",e)),this},toggleClass(t){const e=this[0].getAttributeNS(null,"class");return e&&e.match(t)?(this.removeClass(t),this):(this.addClass(t),this)},createEvent(){return d.create(this)},query(t){return this[0].querySelector(t)},getElement(){return this[0]},getAttribute(t){return this[0]?this[0].getAttribute(t):null},getComputedStyle(){return window.getComputedStyle(this[0])},getPropertyValue(t){return this.getPropertyValue(t)},getSize(){return{width:this[0].getBoundingClientRect().width,height:this[0].getBoundingClientRect().height}},getAnimationStatus(){return this[0].isAnimationOn},stopAnimation(){return!!this[0].isAnimationOn&&(this[0].isAnimationOn=!1,!0)},getAttachedEvent(){return this[0].event},trigger(t){this[0].dispatchEvent(t)},setMessage(t,e){let n,r=this[0].message;return void 0!==r&&r.isArray||(this[0].message=[],r=this[0].message),void 0===r[0]||void 0===r[0][t]?((n={})[t]=e,r.push(n)):r[0][t]=e,this},getMessage(t){const e=this[0].message;return void 0===e||void 0===e[0]||void 0===e[0][t]?null:this[0].message[0][t]}}}(),r});